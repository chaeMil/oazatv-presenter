<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>oh! Presenter</title>
    <link rel="stylesheet" href="../../../node_modules/electron-photon/dist/photon.css">
    <link rel="stylesheet" href="../../shared/assets/css/main.scss">
    <link rel="stylesheet" href="../assets/main.scss">
</head>
<body>
<ph-window>
    <tool-bar type="header">
        <h1 class="title" style="-webkit-app-region: drag;">oh! Presenter</h1>
        <div class="toolbar-actions" style="text-align: center;">
            <button class="btn btn-default" data-bind="click: mainViewModel.redButtonClick">Red</button>
            <button class="btn btn-default" data-bind="click: mainViewModel.greenButtonClick">Green</button>
            <button class="btn btn-default" data-bind="click: mainViewModel.blueButtonClick">Blue</button>
            <button class="btn btn-default" data-bind="click: mainViewModel.jsonButtonClick">JSON canvas data</button>
            <button class="btn btn-default" data-bind="click: mainViewModel.openCanvasDesignerWindow">Canvas designer</button>
            <input type="search" class="pull-right" style="margin-right: 6px;" placeholder="Search">
        </div>
    </tool-bar>
    <window-content>
        <div class="pane-group">
            <div class="pane">
                <table class="table-striped table-selectable">
                    <thead>
                    <tr>
                        <th>display name</th>
                        <th>id</th>
                        <th>ip</th>
                        <th>port</th>
                    </tr>
                    </thead>
                    <tbody id="clients-list">
                    <tr data-bind="foreach: mainViewModel.clientsList">
                        <td data-bind="text: $data[Object.keys($data)[0]].clientDisplayName"></td>
                        <td data-bind="text: $data[Object.keys($data)[0]].clientHashId"></td>
                        <td data-bind="text: $data[Object.keys($data)[0]].host"></td>
                        <td data-bind="text: $data[Object.keys($data)[0]].port"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </window-content>
    <tool-bar type="footer">

    </tool-bar>
</ph-window>

<script>
    let ko = require('knockout');
    let {ipcRenderer, webFrame} = require('electron');
    let Photon = require("electron-photon");

    webFrame.setVisualZoomLevelLimits(1, 1);
    webFrame.setLayoutZoomLevelLimits(0, 0);

    import MainViewModel from '../viewmodel/main_viewmodel.js';

    let mainViewModel = new MainViewModel(ko, ipcRenderer);
    mainViewModel.init();
</script>
</body>
</html>