<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>oh! Presenter</title>
    <link rel="stylesheet" href="../../../node_modules/electron-photon/dist/photon.css">
    <link rel="stylesheet" href="../../shared/assets/css/main.scss">
    <link rel="stylesheet" href="../assets/main.scss">
</head>
<body>
<ph-window>
    <tool-bar type="header">
        <h1 class="title" style="-webkit-app-region: drag;">oh! Presenter</h1>
        <div class="toolbar-actions" style="text-align: center;">
            <button class="btn btn-default" data-bind="click: VM.redButtonClick">Red</button>
            <button class="btn btn-default" data-bind="click: VM.greenButtonClick">Green</button>
            <button class="btn btn-default" data-bind="click: VM.blueButtonClick">Blue</button>
            <button class="btn btn-default" data-bind="click: VM.jsonButtonClick">JSON canvas data</button>
            <button class="btn btn-default" data-bind="click: VM.openCanvasDesignerWindow">Canvas designer
            </button>
            <button class="btn btn-default" data-bind="click: VM.openCanvasWindow">New canvas</button>
        </div>
    </tool-bar>
    <window-content>
        <div class="pane-group">
            <div class="pane">
                <table class="table-striped table-selectable">
                    <thead>
                    <tr>
                        <th>display name</th>
                        <th>id</th>
                        <th>ip</th>
                        <th>port</th>
                    </tr>
                    </thead>
                    <tbody id="clients-list" data-bind="foreach: VM.clientsList">
                    <tr data-bind="if: $data != null">
                        <td data-bind="text: $data.clientDisplayName"></td>
                        <td data-bind="text: $data.clientHashId"></td>
                        <td data-bind="text: $data.host"></td>
                        <td data-bind="text: $data.port"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </window-content>
    <tool-bar type="footer">

    </tool-bar>
</ph-window>

<script>
    import MainViewModel from '../viewmodel/main_viewmodel.js';

    let ko = require('knockout');
    let {ipcRenderer, webFrame} = require('electron');
    let Photon = require("electron-photon");

    webFrame.setVisualZoomLevelLimits(1, 1);
    webFrame.setLayoutZoomLevelLimits(0, 0);

    let VM = new MainViewModel(ko, ipcRenderer);
    document.addEventListener('DOMContentLoaded', () => {
        VM.init();
    }, false);
</script>
</body>
</html>