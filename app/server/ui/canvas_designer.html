<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>oh! Presenter</title>
    <link rel="stylesheet" href="../../../node_modules/electron-photon/dist/photon.css">
    <link rel="stylesheet" href="../../shared/assets/css/main.scss">
    <link rel="stylesheet" href="../assets/main.scss">
</head>
<body>
<ph-window>
    <tool-bar type="header">
        <h1 class="title" style="-webkit-app-region: drag;">Canvas Designer</h1>
        <div class="toolbar-actions" style="text-align: right;">
            <button class="btn btn-default" data-bind="click: VM.broadcastToCanvas">Broadcast to canvas</button>
        </div>
    </tool-bar>
    <window-content>
        <div class="pane-group">
            <div class="pane-sm sidebar">
                <button class="btn btn-default" data-bind="click: VM.addRectangle">Square</button>
                <button class="btn btn-default" data-bind="click: VM.addText">Text</button>
            </div>
            <div class="pane" id="canvas-wrapper">
                <canvas id="canvas" width="800" height="600"></canvas>
            </div>
            <div class="pane pane-sm sidebar">

            </div>
        </div>
    </window-content>
</ph-window>

<script>
    import CanvasDesignerViewModel from '../viewmodel/canvas_designer_viewmodel.js';

    let ko = require('knockout');
    let {ipcRenderer, webFrame} = require('electron');

    webFrame.setVisualZoomLevelLimits(1, 1);
    webFrame.setLayoutZoomLevelLimits(0, 0);

    let VM = new CanvasDesignerViewModel(ko, ipcRenderer);
    VM.init();
</script>
</body>
</html>